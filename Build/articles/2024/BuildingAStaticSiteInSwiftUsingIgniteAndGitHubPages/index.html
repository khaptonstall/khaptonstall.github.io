<!doctype html><html lang="en" data-bs-theme="light"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="I recently decided to update my personal home page (a simple one-page HTML site using Jekyll) to try out Ignite, as Iâ€™d much prefer to maintain a Swift package over working directly with HTML."><meta name="author" content="Kyle Haptonstall"><meta name="generator" content="Ignite v0.1.0"><title>Building a Static Site in Swift using Ignite and GitHub Pages - Kyle Haptonstall</title><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/prism-default-dark.css" rel="stylesheet"><link href="/css/bootstrap-icons.min.css" rel="stylesheet"><link href="https://khaptonstall.github.io/articles/2024/BuildingAStaticSiteInSwiftUsingIgniteAndGitHubPages" rel="canonical"><meta property="og:site_name" content="Kyle Haptonstall"><meta property="og:title" content="Building a Static Site in Swift using Ignite and GitHub Pages"><meta property="twitter:title" content="Building a Static Site in Swift using Ignite and GitHub Pages"><meta property="og:description" content="Building a Static Site in Swift using Ignite and GitHub Pages"><meta name="twitter:description" content="Building a Static Site in Swift using Ignite and GitHub Pages"><meta property="og:url" content="https://khaptonstall.github.io/articles/2024/BuildingAStaticSiteInSwiftUsingIgniteAndGitHubPages"><meta name="twitter:domain" content="khaptonstall.github.io"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:dnt" content="on"></head><body style="padding-top: 80px; padding-bottom: 80px"><div class="col-sm-10 mx-auto"><header><nav class="fixed-top navbar navbar-expand-md" style="background-color: rgb(47 79 79 / 100%)" data-bs-theme="dark"><div class="container-fluid"><a href="/" class="navbar-brand">Kyle Haptonstall</a><button type="button" class="navbar-toggler btn" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div id="navbarCollapse" class="collapse navbar-collapse"><ul class="navbar-nav mb-2 mb-md-0 col"><li class="nav-item"><a href="/" class="nav-link">Home</a></li></ul></div></div></nav></header><h1 style="margin-top: 20px">Building a Static Site in Swift using Ignite and GitHub Pages</h1><p>April 3, 2024</p><p style="margin-bottom: 20px"><p>I recently decided to update my personal home page (a simple one-page HTML site using Jekyll) to try out Ignite, as Iâ€™d much prefer to maintain a Swift package over working directly with HTML.</p><p><a href="https://github.com/twostraws/Ignite">Ignite</a> is an open-source static site builder for Swift developers, created by <a href="https://twitter.com/twostraws">Paul Hudson</a>.</p><p>While working with Ignite is fairly straightforward, and there are plenty of excellent examples provided in the <a href="https://github.com/twostraws/IgniteSamples">IgniteSamples</a> repo, I ran into a couple speed bumps deploying via <a href="https://pages.github.com">GitHub Pages</a>.</p><p>Below, Iâ€™ll walk you through the steps to get your own static site up and running using Ignite and GitHub Pages.</p><h1>Prerequisites</h1><p>This guide expects you to already be familiar with Git, Swift and SPM. Also, you should have followed the steps to setup a personal GitHub Page using <a href="https://pages.github.com">GitHubâ€™s own documentation</a> and have that repo cloned locally.</p><p>In doing so, you should be able to visit <code>github-username.github.io</code> and see a basic HTML page (replacing <code>github-username</code> with your own).</p><h1>Setting up your Ignite home page</h1><p>The simplest way to get started is to download the <a href="https://github.com/twostraws/IgniteStarter">IgniteStarter</a> project.</p><p>Add the contents of this project to the root directory of your personal GitHub Page repo you cloned locally.</p><p>Since this is a Swift Package, open the contents in Xcode and open the <code>Site.swift</code> file. Inside, change the value <code>url</code> property to match the url of your personal Github Page:</p><pre><code class="language-swift">struct ExampleSite: Site {    
    var url = URL("github-username.github.io")
}
</code></pre><p>Once updated, build and run the IgniteStarter scheme in Xcode. This should generate a new <code>Build/</code> folder in your project and at the top level should be an <code>index.html</code> file representing your home page.</p><h1>Running your website locally</h1><p>Before deploying to GitHub Pages, verify that you can run your website locally. In your terminal, navigate into the <code>Build/</code> directory generated by Ignite and run the following:</p><pre><code class="language-bash"> python3 -m http.server
</code></pre><p>The output of this command should include the port your local web server is running on (e.g. 8000). In your web browser, navigate to <code>http://localhost:port</code> and verify you can view your page.</p><h1>Deploying to GitHub Pages</h1><p>By default, GitHub Pages only deploys from either the root of a branch, or from a <code>docs/</code> folder. Since our site live in the <code>Build/</code> directory, there are a couple steps to take before successfully deploying to GitHub Pages:</p><ol><li>Remove the <code>index.html</code> file from the root of your directory that you created when first setting up your GitHub Page</li><li>Open your <code>.gitignore</code> and remove the <code>Build</code> directory</li><li>In your GitHub Page repo, navigate to Settings â†’ Pages â†’ Build and deployment. Use the Source dropdown to switch from Deploy from a branch to GitHub Actions</li><li>Back in your terminal, in the root of your project, prepare a new workflow to deploy your page<pre><code class="language-bash">mkdir -p .github/workflows && touch .github/workflows/static.yml
</code></pre></li><li>Open <code>static.yml</code> and paste the following, changing your default branch as necessarya. The important piece here is in the Upload artifact step. Instead of defaulting to the root directory, weâ€™re pointing at the Build directory that contains our home page<pre><code class="language-yaml"># Simple workflow for deploying static content to GitHub Pages
name: Deploy static content to Pages

on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["main"]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.
# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  # Single deploy job since we're just deploying
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Pages
        uses: actions/configure-pages@v5
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: './Build'
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
</code></pre></li><li>Push your changes up to GitHub and, once the deployment completes, visit your new Ignite-driven home page ðŸŽ‰</li></ol></p></div></body><script src="/js/bootstrap.bundle.min.js"></script><script src="/js/syntax-highlighting.js"></script></html>